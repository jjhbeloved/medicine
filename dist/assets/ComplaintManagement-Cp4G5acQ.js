import{c as I,r as d,j as e,E,M as O,P as V}from"./index-817aq7Si.js";import{S as D}from"./tag-BKoVs9VE.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=I("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=I("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=I("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=I("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=I("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=I("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function Y({userType:y}){const[M,v]=d.useState([{id:"P001",name:"智能防跌倒监测系统",category:"智慧监测类",price:2999,status:"approved",supplier:"科技有限公司A",description:"基于AI技术的防跌倒监测系统，能够实时监测用户状态，预防跌倒风险。",createdAt:"2023-12-01",specifications:"传感器精度: ±0.1°, 电池续航: 7天, 防水等级: IP67"},{id:"P002",name:"电子血压计",category:"医疗护理类",price:299,status:"approved",supplier:"医疗器械公司B",description:"数字显示电子血压计，测量准确，操作简便，适用于家庭和医疗机构使用。",createdAt:"2023-11-28",specifications:"测量范围: 0-300mmHg, 精度: ±3mmHg, 电源: 4节AA电池"},{id:"P003",name:"手动轮椅",category:"康复训练类",price:1200,status:"approved",supplier:"康复设备公司C",description:"适用于行动不便者使用的轻便手动轮椅，具有折叠功能，便于携带和存放。",createdAt:"2023-11-25",specifications:"材质: 航空铝合金, 承重: 120kg, 折叠尺寸: 90x40x30cm"},{id:"P004",name:"智能手环",category:"智慧监测类",price:899,status:"approved",supplier:"智能科技公司D",description:"多功能智能手环，专为老年人设计，具有健康监测和紧急报警功能。",createdAt:"2023-12-02",specifications:"心率监测、睡眠分析、跌倒检测、续航7天"},{id:"P005",name:"医用血糖仪",category:"医疗护理类",price:450,status:"approved",supplier:"医疗器械公司E",description:"专业医用血糖仪，快速准确，适合糖尿病患者日常监测。",createdAt:"2023-12-03",specifications:"测量范围: 1.1-33.3mmol/L, 精度: ±10%, 试纸盒装"},{id:"P006",name:"老人助行器",category:"康复训练类",price:680,status:"approved",supplier:"康复设备公司F",description:"轻便耐用的老人助行器，具有座椅功能，方便老年人休息。",createdAt:"2023-12-05",specifications:"材质: 铝合金, 承重: 150kg, 可折叠, 带座椅"},{id:"P007",name:"智能血压计",category:"医疗护理类",price:380,status:"approved",supplier:"医疗器械公司G",description:"智能语音血压计，具有数据上传功能，方便医生查看。",createdAt:"2023-12-06",specifications:"蓝牙连接, 心率监测, 自动充气, 语音播报"},{id:"P008",name:"防褥疮气垫床",category:"生活护理类",price:2500,status:"approved",supplier:"护理设备公司H",description:"专业防褥疮气垫床，有效预防和治疗褥疮，适合长期卧床患者。",createdAt:"2023-12-08",specifications:"尺寸: 200x90cm, 气囊数量: 18个, 自动调节, 防水面料"},{id:"P009",name:"制氧机",category:"医疗护理类",price:3200,status:"approved",supplier:"医疗器械公司I",description:"家用医疗制氧机，适合老年人及呼吸系统疾病患者使用。",createdAt:"2023-12-10",specifications:"氧气浓度: 90%-96%, 流量: 1-5L/min, 噪音: ≤45dB"},{id:"P010",name:"康复训练床",category:"康复训练类",price:8500,status:"approved",supplier:"康复设备公司J",description:"多功能电动康复训练床，支持多角度调节，适用于术后康复训练。",createdAt:"2023-11-20",specifications:"尺寸: 220x100cm, 电动调节, 承重: 200kg, 带护栏"},{id:"P011",name:"老年人GPS定位器",category:"智慧监测类",price:299,status:"approved",supplier:"智能科技公司K",description:"专为老年人设计的GPS定位设备，支持实时位置追踪和紧急求助。",createdAt:"2023-11-18",specifications:"GPS+北斗双模定位, 续航7天, 一键SOS"},{id:"P012",name:"护理床垫",category:"生活护理类",price:1200,status:"approved",supplier:"护理设备公司L",description:"专业护理床垫，具有防水透气功能，适合长期卧床者使用。",createdAt:"2023-11-15",specifications:"材质: 高密度海绵, 尺寸: 200x90x10cm, 防水透气"}]),[N,w]=d.useState(""),[C,S]=d.useState("all"),[k,x]=d.useState("all"),[c,b]=d.useState(null),[a,u]=d.useState(!1),[m,P]=d.useState(1),A=5,h=M.filter(s=>{const l=N===""||s.name.toLowerCase().includes(N.toLowerCase())||s.id.toLowerCase().includes(N.toLowerCase()),i=C==="all"||s.category===C,$=k==="all"||s.status===k,z=y==="经办机构"?s.status==="approved":!0;return l&&i&&$&&z}),p=Math.ceil(h.length/A),j=(m-1)*A,L=j+A,f=h.slice(j,L),r=s=>{s>=1&&s<=p&&P(s)},g=s=>{switch(s){case"draft":return"草稿";case"pending":return"待审核";case"approved":return"已通过";case"rejected":return"已驳回";default:return s}},T=s=>{switch(s){case"draft":return"bg-gray-100 text-gray-800";case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"产品管理"}),y==="生产/代理企业"&&e.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-md flex items-center space-x-2",children:[e.jsx(Q,{className:"h-5 w-5"}),e.jsx("span",{children:"提交新产品"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[e.jsxs("div",{className:`grid grid-cols-1 ${y==="经办机构"?"md:grid-cols-2":"md:grid-cols-3"} gap-4 mb-4`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"搜索"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md",placeholder:"产品名称或编号",value:N,onChange:s=>w(s.target.value)}),e.jsx(D,{className:"h-5 w-5 text-gray-400 absolute left-3 top-2.5"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"分类"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:C,onChange:s=>S(s.target.value),children:[e.jsx("option",{value:"all",children:"全部分类"}),e.jsx("option",{value:"生活护理类",children:"生活护理类"}),e.jsx("option",{value:"康复训练类",children:"康复训练类"}),e.jsx("option",{value:"医疗护理类",children:"医疗护理类"}),e.jsx("option",{value:"智慧监测类",children:"智慧监测类"})]})]}),y==="生产/代理企业"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"状态"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:k,onChange:s=>x(s.target.value),children:[e.jsx("option",{value:"all",children:"全部状态"}),e.jsx("option",{value:"draft",children:"草稿"}),e.jsx("option",{value:"pending",children:"待审核"}),e.jsx("option",{value:"approved",children:"已通过"}),e.jsx("option",{value:"rejected",children:"已驳回"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-200",onClick:()=>{w(""),S("all"),x("all")},children:"重置筛选"})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"产品编号"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"产品名称"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"分类"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"价格"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"状态"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"提交时间"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:"没有符合条件的产品数据"})}):f.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:s.category})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["¥",s.price.toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T(s.status)}`,children:g(s.status)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.createdAt}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900",onClick:()=>{b(s),u(!0)},title:"查看详情",children:e.jsx(E,{className:"h-5 w-5"})}),s.status==="draft"&&e.jsx("button",{className:"text-green-600 hover:text-green-900",title:"编辑",children:e.jsx(K,{className:"h-5 w-5"})})]})})]},s.id))})]}),h.length>A&&e.jsxs("div",{className:"px-6 py-3 flex items-center justify-between border-t",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["显示 ",j+1," 至 ",Math.min(L,h.length)," 条，共 ",h.length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>r(m-1),disabled:m===1,children:"上一页"}),[...Array(Math.min(5,p))].map((s,l)=>{let i;return p<=5||m<=3?i=l+1:m>=p-2?i=p-4+l:i=m-2+l,e.jsx("button",{className:`px-3 py-1 rounded ${m===i?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,onClick:()=>r(i),children:i},i)}),e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>r(m+1),disabled:m===p,children:"下一页"}),e.jsxs("div",{className:"flex items-center ml-4",children:[e.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"跳转到"}),e.jsx("input",{type:"number",min:1,max:p,className:"w-16 px-2 py-1 border border-gray-300 rounded text-center text-sm",value:m,onChange:s=>{const l=parseInt(s.target.value);l>=1&&l<=p&&P(l)}}),e.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"页"})]})]})]})]}),a&&c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"产品详情"}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>{u(!1),b(null)},children:"×"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg mb-4",children:"基本信息"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"产品编号"}),e.jsx("p",{className:"font-medium",children:c.id})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"产品名称"}),e.jsx("p",{className:"font-medium",children:c.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"产品分类"}),e.jsx("p",{className:"font-medium",children:c.category})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"供应商"}),e.jsx("p",{className:"font-medium",children:c.supplier})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"价格"}),e.jsxs("p",{className:"font-medium",children:["¥",c.price.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"状态"}),e.jsx("p",{className:`font-medium ${c.status==="approved"?"text-green-600":c.status==="rejected"?"text-red-600":"text-yellow-600"}`,children:g(c.status)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"提交时间"}),e.jsx("p",{className:"font-medium",children:c.createdAt})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg mb-4",children:"产品规格"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-md mb-4",children:e.jsx("p",{className:"text-sm",children:c.specifications})}),e.jsx("h4",{className:"font-semibold text-lg mb-4",children:"产品描述"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:e.jsx("p",{className:"text-sm",children:c.description})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md",onClick:()=>{u(!1),b(null)},children:"关闭"})})]})})})]})}function ee(){const[y,M]=d.useState([{id:"C001",productId:"P001",productName:"智能防跌倒监测系统",productStatus:"已挂网",complainant:"张三",complaintType:"产品质量",description:"产品在使用的过程中出现数据不准确的情况，希望能够改进产品质量。",status:"pending",createdAt:"2023-12-01"},{id:"C002",productId:"P002",productName:"电子血压计",productStatus:"公示中",complainant:"李四",complaintType:"售后服务",description:"购买后没有收到使用说明书，打电话咨询也没有得到及时回复。",status:"processing",createdAt:"2023-11-28",response:"正在处理您的问题，我们会在24小时内联系您。"},{id:"C003",productId:"P003",productName:"手动轮椅",productStatus:"已挂网",complainant:"王五",complaintType:"产品质量",description:"轮椅的折叠机构存在松动，使用起来有安全隐患。",status:"pending",createdAt:"2023-12-03"},{id:"C004",productId:"P004",productName:"智能手环",productStatus:"公示中",complainant:"赵六",complaintType:"配送问题",description:"订单显示已发货但一周了还没有收到货物，物流信息也没有更新。",status:"resolved",createdAt:"2023-11-25",response:"经核实，物流出现延误，已重新安排发货，预计3天内送达。"},{id:"C005",productId:"P005",productName:"医用血糖仪",productStatus:"已挂网",complainant:"孙七",complaintType:"产品质量",description:"血糖仪测量结果与医院检测结果差距较大，怀疑产品精度有问题。",status:"processing",createdAt:"2023-12-05",response:"已安排技术人员进行检测，请将产品寄回指定地址。"},{id:"C006",productId:"P006",productName:"老人助行器",productStatus:"已挂网",complainant:"周八",complaintType:"售后服务",description:"产品保修期内出现问题，申请维修但迟迟没有回应。",status:"pending",createdAt:"2023-12-07"},{id:"C007",productId:"P007",productName:"智能血压计",productStatus:"已挂网",complainant:"吴九",complaintType:"产品质量",description:"蓝牙连接不稳定，经常断开连接导致数据丢失。",status:"resolved",createdAt:"2023-11-20",response:"已确认为固件问题，请更新至最新版本固件，问题已解决。"},{id:"C008",productId:"P008",productName:"防褥疮气垫床",productStatus:"公示中",complainant:"郑十",complaintType:"配送问题",description:"收到的产品外包装破损，担心内部产品受损。",status:"pending",createdAt:"2023-12-09"},{id:"C009",productId:"P009",productName:"制氧机",productStatus:"已挂网",complainant:"钱十一",complaintType:"售后服务",description:"机器运行时噪音过大，超过产品标注的噪音标准。",status:"processing",createdAt:"2023-12-10",response:"请提供产品序列号和购买凭证，我们将安排上门检测。"},{id:"C010",productId:"P010",productName:"康复训练床",productStatus:"已挂网",complainant:"冯十二",complaintType:"产品质量",description:"电动调节功能失灵，按钮按下后没有反应。",status:"pending",createdAt:"2023-12-11"},{id:"C011",productId:"P011",productName:"老年人GPS定位器",productStatus:"已挂网",complainant:"陈十三",complaintType:"产品质量",description:"室内定位精度很差，经常显示错误位置。",status:"resolved",createdAt:"2023-11-22",response:"已确认为信号问题，建议在空旷区域使用，室内可开启WiFi辅助定位。"},{id:"C012",productId:"P012",productName:"护理床垫",productStatus:"公示中",complainant:"杨十四",complaintType:"其他",description:"床垫尺寸与描述不符，实际比标注的小了5厘米。",status:"pending",createdAt:"2023-12-12"}]),[v,N]=d.useState(""),[w,C]=d.useState("all"),[S,k]=d.useState("all"),[x,c]=d.useState(1),b=5,[a,u]=d.useState(null),[m,P]=d.useState(!1),[A,h]=d.useState(!1),[p,j]=d.useState(""),[L,f]=d.useState(!1),[r,g]=d.useState({productId:"",productName:"",complainant:"",complaintType:"产品质量",description:""}),T=[{id:"P001",name:"智能防跌倒监测系统",status:"公示中"},{id:"P002",name:"电子血压计",status:"已挂网"},{id:"P003",name:"手动轮椅",status:"已挂网"},{id:"P004",name:"智能手环",status:"公示中"},{id:"P005",name:"医用血糖仪",status:"公示中"}],s=y.filter(t=>{const n=v===""||t.productName.toLowerCase().includes(v.toLowerCase())||t.complainant.toLowerCase().includes(v.toLowerCase())||t.description.toLowerCase().includes(v.toLowerCase()),o=w==="all"||t.complaintType===w,q=S==="all"||t.status===S;return n&&o&&q}),l=Math.ceil(s.length/b),i=(x-1)*b,$=i+b,z=s.slice(i,$),F=t=>{t>=1&&t<=l&&c(t)},H=t=>{switch(t){case"pending":return"待处理";case"processing":return"处理中";case"resolved":return"已解决";default:return t}},G=t=>{switch(t){case"pending":return"bg-gray-100 text-gray-800";case"processing":return"bg-blue-100 text-blue-800";case"resolved":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},R=()=>{a&&p.trim()&&(M(y.map(t=>t.id===a.id?{...t,response:p.trim(),status:"resolved"}:t)),h(!1),j(""),u(null))},B=()=>{if(r.productId&&r.complainant&&r.description){const t=T.find(q=>q.id===r.productId),o={id:`C${String(y.length+1).padStart(3,"0")}`,productId:r.productId,productName:(t==null?void 0:t.name)||r.productName,complainant:r.complainant,complaintType:r.complaintType,description:r.description,status:"pending",createdAt:new Date().toISOString().split("T")[0]};M([...y,o]),f(!1),g({productId:"",productName:"",complainant:"",complaintType:"产品质量",description:""})}};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"申投诉管理"}),e.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-md flex items-center space-x-2",onClick:()=>f(!0),children:[e.jsx(Q,{className:"h-5 w-5"}),e.jsx("span",{children:"新建投诉"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"搜索"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md",placeholder:"产品名称、投诉人或内容",value:v,onChange:t=>N(t.target.value)}),e.jsx(D,{className:"h-5 w-5 text-gray-400 absolute left-3 top-2.5"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"投诉类型"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:w,onChange:t=>C(t.target.value),children:[e.jsx("option",{value:"all",children:"全部类型"}),e.jsx("option",{value:"产品质量",children:"产品质量"}),e.jsx("option",{value:"售后服务",children:"售后服务"}),e.jsx("option",{value:"配送问题",children:"配送问题"}),e.jsx("option",{value:"其他",children:"其他"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"处理状态"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:S,onChange:t=>k(t.target.value),children:[e.jsx("option",{value:"all",children:"全部状态"}),e.jsx("option",{value:"pending",children:"待处理"}),e.jsx("option",{value:"processing",children:"处理中"}),e.jsx("option",{value:"resolved",children:"已解决"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-200",onClick:()=>{N(""),C("all"),k("all")},children:"重置筛选"})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"投诉编号"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"产品名称"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"投诉人"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"投诉类型"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"状态"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"投诉时间"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:z.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:"没有符合条件的投诉数据"})}):z.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.productName}),t.productStatus&&e.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ${t.productStatus==="公示中"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:t.productStatus})]}),t.productStatus&&e.jsxs("div",{className:"relative group",children:[e.jsx("button",{className:`p-1 rounded hover:bg-gray-100 ${t.productStatus==="公示中"?"text-blue-600 hover:text-blue-900":"text-green-600 hover:text-green-900"}`,onClick:()=>{t.productStatus==="公示中"?alert(`跳转到公示公布页面，查看产品: ${t.productName}`):alert(`跳转到产品管理页面，查看产品: ${t.productName}`)},children:e.jsx(_,{className:"h-4 w-4"})}),e.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 text-xs text-white bg-gray-800 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:t.productStatus==="公示中"?"查看公示详情":"查看产品详情"})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.complainant}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:t.complaintType})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${G(t.status)}`,children:H(t.status)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.createdAt}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",onClick:()=>{u(t),P(!0)},children:e.jsx(E,{className:"h-5 w-5"})}),e.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 text-xs text-white bg-gray-800 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:"查看投诉详情"})]}),t.status!=="resolved"&&e.jsxs("div",{className:"relative group",children:[e.jsx("button",{className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50",onClick:()=>{u(t),j(t.response||""),h(!0)},children:e.jsx(O,{className:"h-5 w-5"})}),e.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 text-xs text-white bg-gray-800 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:"回复投诉"})]})]})})]},t.id))})]}),s.length>b&&e.jsxs("div",{className:"px-6 py-3 flex items-center justify-between border-t",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["显示 ",i+1," 至 ",Math.min($,s.length)," 条，共 ",s.length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>F(x-1),disabled:x===1,children:"上一页"}),[...Array(Math.min(5,l))].map((t,n)=>{let o;return l<=5||x<=3?o=n+1:x>=l-2?o=l-4+n:o=x-2+n,e.jsx("button",{className:`px-3 py-1 rounded ${x===o?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,onClick:()=>F(o),children:o},o)}),e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>F(x+1),disabled:x===l,children:"下一页"}),e.jsxs("div",{className:"flex items-center ml-4",children:[e.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"跳转到"}),e.jsx("input",{type:"number",min:1,max:l,className:"w-16 px-2 py-1 border border-gray-300 rounded text-center text-sm",value:x,onChange:t=>{const n=parseInt(t.target.value);n>=1&&n<=l&&c(n)}}),e.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"页"})]})]})]})]}),m&&a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"投诉详情"}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>{P(!1),u(null)},children:"×"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg mb-4",children:"投诉信息"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"投诉编号"}),e.jsx("p",{className:"font-medium",children:a.id})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"产品名称"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"font-medium",children:a.productName}),a.productStatus&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ${a.productStatus==="公示中"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.productStatus}),e.jsx("button",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium border ${a.productStatus==="公示中"?"border-blue-300 text-blue-600 hover:bg-blue-50":"border-green-300 text-green-600 hover:bg-green-50"}`,onClick:()=>{a.productStatus==="公示中"?alert(`跳转到公示公布页面，查看产品: ${a.productName}`):alert(`跳转到产品管理页面，查看产品: ${a.productName}`)},children:a.productStatus==="公示中"?e.jsxs(e.Fragment,{children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),"查看公示"]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"h-3 w-3 mr-1"}),"查看产品"]})})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"投诉人"}),e.jsx("p",{className:"font-medium",children:a.complainant})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"投诉类型"}),e.jsx("p",{className:"font-medium",children:a.complaintType})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"处理状态"}),e.jsx("p",{className:`font-medium ${a.status==="resolved"?"text-green-600":a.status==="processing"?"text-blue-600":"text-yellow-600"}`,children:H(a.status)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"投诉时间"}),e.jsx("p",{className:"font-medium",children:a.createdAt})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg mb-4",children:"投诉内容"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-md mb-4",children:e.jsx("p",{className:"text-sm",children:a.description})}),a.response&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg mb-4",children:"回复内容"}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-md",children:e.jsx("p",{className:"text-sm",children:a.response})})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md",onClick:()=>{P(!1),u(null)},children:"关闭"})})]})})}),A&&a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"回复投诉"}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>{h(!1),j(""),u(null)},children:"×"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"投诉内容"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:e.jsx("p",{className:"text-sm",children:a.description})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"回复内容"}),e.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:4,placeholder:"请输入回复内容...",value:p,onChange:t=>j(t.target.value)})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-md",onClick:()=>{h(!1),j(""),u(null)},children:"取消"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md",onClick:R,disabled:!p.trim(),children:"提交回复"})]})]})})}),L&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"新建投诉"}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>{f(!1),g({productId:"",productName:"",complainant:"",complaintType:"产品质量",description:""})},children:"×"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["选择产品 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:r.productId,onChange:t=>{const n=T.find(o=>o.id===t.target.value);g({...r,productId:t.target.value,productName:(n==null?void 0:n.name)||""})},children:[e.jsx("option",{value:"",children:"请选择产品"}),T.map(t=>e.jsxs("option",{value:t.id,children:[t.name," (",t.status,")"]},t.id))]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"可选择公示中的产品或已挂网的产品"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["投诉人 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"请输入投诉人姓名",value:r.complainant,onChange:t=>g({...r,complainant:t.target.value})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["投诉类型 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:r.complaintType,onChange:t=>g({...r,complaintType:t.target.value}),children:[e.jsx("option",{value:"产品质量",children:"产品质量"}),e.jsx("option",{value:"售后服务",children:"售后服务"}),e.jsx("option",{value:"配送问题",children:"配送问题"}),e.jsx("option",{value:"其他",children:"其他"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["投诉内容 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:4,placeholder:"请详细描述投诉内容...",value:r.description,onChange:t=>g({...r,description:t.target.value})})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-md",onClick:()=>{f(!1),g({productId:"",productName:"",complainant:"",complaintType:"产品质量",description:""})},children:"取消"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md",onClick:B,disabled:!r.productId||!r.complainant||!r.description,children:"提交投诉"})]})]})})})]})}export{ee as C,Z as F,Q as P,K as S,X as T,Y as a};
