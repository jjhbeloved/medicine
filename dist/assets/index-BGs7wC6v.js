import{c as z,r as i,j as e,P as W,M as K,E as G}from"./index-817aq7Si.js";import{F as Z,P as se,S as te,T as le}from"./ComplaintManagement-Cp4G5acQ.js";import{C as ke,a as Se}from"./ComplaintManagement-Cp4G5acQ.js";import{C as U,S as V,T as re}from"./tag-BKoVs9VE.js";import{C as ie}from"./circle-x-RZkIn4db.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=z("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=z("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=z("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=z("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function je({userType:p}){const[C]=i.useState({totalCategories:4,activeCategories:3,totalDirectories:2,publishedDirectories:1,pendingReviews:5,resolvedComplaints:12,pendingFeedback:3});return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"经办机构管理平台"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"欢迎使用长护险辅助器具采购平台管理系统"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-full mr-4",children:e.jsx(W,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"类目总数"}),e.jsx("p",{className:"text-2xl font-bold",children:C.totalCategories}),e.jsxs("p",{className:"text-xs text-green-600",children:["活跃 ",C.activeCategories]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-green-100 p-3 rounded-full mr-4",children:e.jsx(Z,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"目录总数"}),e.jsx("p",{className:"text-2xl font-bold",children:C.totalDirectories}),e.jsxs("p",{className:"text-xs text-blue-600",children:["已发布 ",C.publishedDirectories]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-yellow-100 p-3 rounded-full mr-4",children:e.jsx(U,{className:"h-6 w-6 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"待审核产品"}),e.jsx("p",{className:"text-2xl font-bold",children:C.pendingReviews}),e.jsx("p",{className:"text-xs text-orange-600",children:"需要处理"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-purple-100 p-3 rounded-full mr-4",children:e.jsx(K,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"待处理反馈"}),e.jsx("p",{className:"text-2xl font-bold",children:C.pendingFeedback}),e.jsx("p",{className:"text-xs text-red-600",children:"需及时回复"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(U,{className:"h-5 w-5 mr-2 text-yellow-600"}),"近期待审核产品"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"智能防跌倒监测系统"}),e.jsx("p",{className:"text-sm text-gray-500",children:"提交时间: 2023-12-01"})]}),e.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs",children:"待审核"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"电子血压计"}),e.jsx("p",{className:"text-sm text-gray-500",children:"提交时间: 2023-11-28"})]}),e.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs",children:"待审核"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"智能轮椅"}),e.jsx("p",{className:"text-sm text-gray-500",children:"提交时间: 2023-11-25"})]}),e.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs",children:"待审核"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(K,{className:"h-5 w-5 mr-2 text-purple-600"}),"最新反馈"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"关于产品质量的建议"}),e.jsx("p",{className:"text-sm text-gray-500",children:"张三 · 2023-12-01"})]}),e.jsx("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs",children:"高优先级"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"配送服务投诉"}),e.jsx("p",{className:"text-sm text-gray-500",children:"李四 · 2023-11-28"})]}),e.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs",children:"中优先级"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"政策咨询"}),e.jsx("p",{className:"text-sm text-gray-500",children:"王五 · 2023-11-25"})]}),e.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs",children:"已解决"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"快捷操作"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{className:"flex items-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[e.jsx(W,{className:"h-8 w-8 text-gray-400 mr-3"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"新增类目"}),e.jsx("p",{className:"text-sm text-gray-500",children:"添加新的辅助器具类目"})]})]}),e.jsxs("button",{className:"flex items-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50 transition-colors",children:[e.jsx(Z,{className:"h-8 w-8 text-gray-400 mr-3"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"创建目录"}),e.jsx("p",{className:"text-sm text-gray-500",children:"制定新的采购目录"})]})]}),e.jsxs("button",{className:"flex items-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[e.jsx(K,{className:"h-8 w-8 text-gray-400 mr-3"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"处理反馈"}),e.jsx("p",{className:"text-sm text-gray-500",children:"回复用户反馈和投诉"})]})]})]})]})]})}const Y={生活护理类:{items:[{name:"成人纸尿裤",code:"SHHL001"},{name:"尿垫",code:"SHHL002"},{name:"护理垫",code:"SHHL003"},{name:"防褥疮气垫床",code:"SHHL004"}]},康复训练类:{items:[{name:"轮椅（手动）",code:"KFXL001"},{name:"轮椅（电动）",code:"KFXL002"},{name:"轮椅（智能型）",code:"KFXL003"},{name:"助行器",code:"KFXL004"},{name:"坐便椅",code:"KFXL005"},{name:"移位机（小型）",code:"KFXL006"}]},医疗护理类:{items:[{name:"体温计",code:"YLHL001"},{name:"血压计",code:"YLHL002"},{name:"输液泵",code:"YLHL003"},{name:"导尿管",code:"YLHL004"},{name:"吸氧管",code:"YLHL005"},{name:"血糖试纸",code:"YLHL006"},{name:"医用纱布",code:"YLHL007"},{name:"消毒用品",code:"YLHL008"}]},智慧监测类:{items:[{name:"防跌倒系统",code:"ZHJC001"},{name:"AI智能手环",code:"ZHJC002"},{name:"康复机器人",code:"ZHJC003"},{name:"智能监测纸尿裤",code:"ZHJC004"}]}};function be(){const[p,C]=i.useState([{id:"1",code:"SHHL001",name:"成人纸尿裤",level1Category:"生活护理类",level2Category:"成人纸尿裤",genericName:"成人纸尿裤",material:"无纺布、吸收芯、高分子材料",status:"active",description:"适用于失禁或行动不便的老年人使用的成人纸尿裤，具有良好的吸收性和透气性。",createdAt:"2023-01-15"},{id:"2",code:"KFXL001",name:"手动轮椅",level1Category:"康复训练类",level2Category:"轮椅（手动）",genericName:"手动轮椅",material:"航空铝合金、钢化玻璃",status:"active",description:"适用于行动不便者使用的轻便手动轮椅，具有折叠功能，便于携带和存放。",createdAt:"2023-01-20"},{id:"3",code:"YLHL001",name:"电子体温计",level1Category:"医疗护理类",level2Category:"体温计",genericName:"电子体温计",material:"塑料、电子元件",status:"active",description:"数字显示电子体温计，测量准确，操作简便，适用于家庭和医疗机构使用。",createdAt:"2023-02-01"},{id:"4",code:"ZHJC001",name:"智能防跌倒监测系统",level1Category:"智慧监测类",level2Category:"防跌倒系统",genericName:"智能防跌倒监测系统",material:"传感器、微处理器",status:"inactive",description:"基于AI技术的防跌倒监测系统，能够实时监测用户状态，预防跌倒风险。",createdAt:"2023-02-15"}]),[g,A]=i.useState(""),[o,R]=i.useState("all"),[N,M]=i.useState(""),[h,H]=i.useState(""),[n,u]=i.useState(""),[k,x]=i.useState("all"),[c,v]=i.useState(null),[f,$]=i.useState(!1),[m,j]=i.useState(!1),[F,L]=i.useState(!1),[a,b]=i.useState(1),w=10,I=p.filter(r=>{const s=g===""||r.name.toLowerCase().includes(g.toLowerCase())||r.code.toLowerCase().includes(g.toLowerCase()),d=o==="all"||r.level1Category===o,t=N===""||r.level2Category.toLowerCase().includes(N.toLowerCase()),S=h===""||r.genericName.toLowerCase().includes(h.toLowerCase()),l=n===""||r.material.toLowerCase().includes(n.toLowerCase()),y=k==="all"||k==="active"&&r.status==="active"||k==="inactive"&&r.status==="inactive";return s&&d&&t&&S&&l&&y}),D=Math.ceil(I.length/w),_=(a-1)*w,Q=_+w,B=I.slice(_,Q),P=r=>{r>=1&&r<=D&&b(r)},O=r=>{C(p.map(s=>s.id===r?{...s,status:s.status==="active"?"inactive":"active"}:s))};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"类目管理"}),e.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-md flex items-center space-x-2",onClick:()=>$(!0),children:[e.jsx(se,{className:"h-5 w-5"}),e.jsx("span",{children:"新增类目"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-full mr-3",children:e.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"生活护理类"}),e.jsx("p",{className:"text-xl font-bold",children:Y.生活护理类.items.length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-green-100 p-3 rounded-full mr-3",children:e.jsx("div",{className:"w-6 h-6 bg-green-600 rounded"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"康复训练类"}),e.jsx("p",{className:"text-xl font-bold",children:Y.康复训练类.items.length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-yellow-100 p-3 rounded-full mr-3",children:e.jsx("div",{className:"w-6 h-6 bg-yellow-600 rounded"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"医疗护理类"}),e.jsx("p",{className:"text-xl font-bold",children:Y.医疗护理类.items.length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-purple-100 p-3 rounded-full mr-3",children:e.jsx("div",{className:"w-6 h-6 bg-purple-600 rounded"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"智慧监测类"}),e.jsx("p",{className:"text-xl font-bold",children:Y.智慧监测类.items.length})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"搜索"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md",placeholder:"类目名称或代码",value:g,onChange:r=>A(r.target.value)}),e.jsx(V,{className:"h-5 w-5 text-gray-400 absolute left-3 top-2.5"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"一级分类"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:o,onChange:r=>R(r.target.value),children:[e.jsx("option",{value:"all",children:"全部"}),e.jsx("option",{value:"生活护理类",children:"生活护理类"}),e.jsx("option",{value:"康复训练类",children:"康复训练类"}),e.jsx("option",{value:"医疗护理类",children:"医疗护理类"}),e.jsx("option",{value:"智慧监测类",children:"智慧监测类"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"二级分类"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"输入二级分类",value:N,onChange:r=>M(r.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"器具通用名"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"输入通用名",value:h,onChange:r=>H(r.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"器具材质"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"输入材质",value:n,onChange:r=>u(r.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"状态"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:k,onChange:r=>x(r.target.value),children:[e.jsx("option",{value:"all",children:"全部"}),e.jsx("option",{value:"active",children:"上架"}),e.jsx("option",{value:"inactive",children:"下架"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-200",onClick:()=>{A(""),R("all"),M(""),H(""),u(""),x("all")},children:"重置筛选"})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"序号"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"分类代码"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"类目名称"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"一级分类"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"二级分类"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"器具通用名"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"器具材质"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"状态"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:B.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-6 py-4 text-center text-gray-500",children:"没有符合条件的类目数据"})}):B.map((r,s)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_+s+1}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:r.code}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:r.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r.level1Category==="生活护理类"?"bg-blue-100 text-blue-800":r.level1Category==="康复训练类"?"bg-green-100 text-green-800":r.level1Category==="医疗护理类"?"bg-yellow-100 text-yellow-800":"bg-purple-100 text-purple-800"}`,children:r.level1Category})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.level2Category}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.genericName}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:r.material}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:r.status==="active"?"上架":"下架"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900",onClick:()=>{v(r),L(!0)},title:"查看详情",children:e.jsx(G,{className:"h-5 w-5"})}),e.jsx("button",{className:"text-green-600 hover:text-green-900",onClick:()=>{v(r),j(!0)},title:"编辑",children:e.jsx(te,{className:"h-5 w-5"})}),e.jsx("button",{className:`${r.status==="active"?"text-orange-600 hover:text-orange-900":"text-green-600 hover:text-green-900"}`,onClick:()=>O(r.id),title:r.status==="active"?"下架":"上架",children:r.status==="active"?e.jsx(xe,{className:"h-5 w-5"}):e.jsx(me,{className:"h-5 w-5"})})]})})]},r.id))})]}),I.length>0&&e.jsxs("div",{className:"px-6 py-3 flex items-center justify-between border-t",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["显示 ",_+1," 至 ",Math.min(Q,I.length)," 条，共 ",I.length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>P(a-1),disabled:a===1,children:e.jsx(ne,{className:"h-5 w-5"})}),[...Array(Math.min(5,D))].map((r,s)=>{let d;return D<=5||a<=3?d=s+1:a>=D-2?d=D-4+s:d=a-2+s,e.jsx("button",{className:`px-3 py-1 rounded ${a===d?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,onClick:()=>P(d),children:d},d)}),e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>P(a+1),disabled:a===D,children:e.jsx(ae,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center ml-4",children:[e.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"跳转到"}),e.jsx("input",{type:"number",min:1,max:D,className:"w-16 px-2 py-1 border border-gray-300 rounded text-center text-sm",value:a,onChange:r=>{const s=parseInt(r.target.value);s>=1&&s<=D&&b(s)}}),e.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"页"})]})]})]})]}),F&&c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"类目详情"}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>{L(!1),v(null)},children:e.jsx(E,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg mb-4",children:"基本信息"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"分类代码"}),e.jsx("p",{className:"font-medium",children:c.code})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"类目名称"}),e.jsx("p",{className:"font-medium",children:c.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"一级分类"}),e.jsx("p",{className:"font-medium",children:c.level1Category})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"二级分类"}),e.jsx("p",{className:"font-medium",children:c.level2Category})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"器具通用名"}),e.jsx("p",{className:"font-medium",children:c.genericName})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg mb-4",children:"详细信息"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"器具材质"}),e.jsx("p",{className:"font-medium",children:c.material})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"状态"}),e.jsx("p",{className:`font-medium ${c.status==="active"?"text-green-600":"text-red-600"}`,children:c.status==="active"?"上架":"下架"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"创建时间"}),e.jsx("p",{className:"font-medium",children:c.createdAt})]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"类目描述"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:e.jsx("p",{children:c.description})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md",onClick:()=>{L(!1),v(null)},children:"关闭"})})]})})}),(f||m)&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:f?"新增类目":"编辑类目"}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>{$(!1),j(!1),v(null)},children:e.jsx(E,{className:"h-6 w-6"})})]}),e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"分类代码"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"请输入分类代码",defaultValue:(c==null?void 0:c.code)||""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"类目名称"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"请输入类目名称",defaultValue:(c==null?void 0:c.name)||""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"一级分类"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",defaultValue:(c==null?void 0:c.level1Category)||"",children:[e.jsx("option",{value:"",children:"请选择一级分类"}),e.jsx("option",{value:"生活护理类",children:"生活护理类"}),e.jsx("option",{value:"康复训练类",children:"康复训练类"}),e.jsx("option",{value:"医疗护理类",children:"医疗护理类"}),e.jsx("option",{value:"智慧监测类",children:"智慧监测类"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"二级分类"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"请输入二级分类",defaultValue:(c==null?void 0:c.level2Category)||""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"器具通用名"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"请输入器具通用名",defaultValue:(c==null?void 0:c.genericName)||""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"器具材质"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"请输入器具材质",defaultValue:(c==null?void 0:c.material)||""})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"类目描述"}),e.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:4,placeholder:"请输入类目描述",defaultValue:(c==null?void 0:c.description)||""})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-md",onClick:()=>{$(!1),j(!1),v(null)},children:"取消"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md",onClick:r=>{r.preventDefault(),$(!1),j(!1),v(null)},children:f?"新增":"保存"})]})]})]})})})]})}function ye(){const[p,C]=i.useState([{id:"DIR2023001",name:"2023年长护险辅助器具目录",rules:["申请人必须是参加长护险的老年人","辅助器具必须符合国家相关标准","同一类辅助器具限购一件"],categories:[],status:"draft",createdAt:"2023-01-15"},{id:"DIR2023002",name:"2023年长护险辅助器具目录（第二批）",rules:["申请人年龄须满65周岁","辅助器具使用年限一般不超过5年","价格合理，符合市场行情"],categories:[],status:"published",createdAt:"2023-06-01"}]),[g,A]=i.useState(!1),[o,R]=i.useState({id:"",name:"",rules:[],categories:[],priceLimit:void 0}),[N,M]=i.useState(""),[h,H]=i.useState("all"),[n,u]=i.useState(""),[k,x]=i.useState({name:"",subcategories:[]}),[c,v]=i.useState(""),[f,$]=i.useState({}),[m,j]=i.useState(null),[F,L]=i.useState(!1),[a,b]=i.useState(!1),w=s=>{$({...f,[s]:!f[s]})},I=()=>{n.trim()&&(R(s=>({...s,rules:[...s.rules,n.trim()]})),u(""))},D=()=>{c.trim()&&(x(s=>({...s,subcategories:[...s.subcategories,{id:Date.now(),name:c.trim()}]})),v(""))},_=()=>{k.name.trim()&&k.subcategories.length>0&&(R(s=>({...s,categories:[...s.categories,{id:Date.now(),name:k.name,subcategories:k.subcategories}]})),x({name:"",subcategories:[]}))},Q=()=>{if(o.name.trim()&&o.rules.length>0&&o.categories.length>0){const s=`DIR${new Date().getFullYear()}${String(p.length+1).padStart(3,"0")}`;C(d=>[...d,{...o,id:s,status:"draft",createdAt:new Date().toISOString().split("T")[0]}]),R({id:"",name:"",rules:[],categories:[]}),A(!1)}},B=s=>{C(p.map(d=>d.id===s?{...d,status:"published"}:d))},P=()=>{m&&(C(p.filter(s=>s.id!==m.id)),L(!1),j(null))},O=s=>{j(s),L(!0)},r=p.filter(s=>{const d=N===""||s.name.toLowerCase().includes(N.toLowerCase())||s.id.toLowerCase().includes(N.toLowerCase()),t=h==="all"||s.status===h;return d&&t});return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"目录管理"}),e.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-md flex items-center space-x-2",onClick:()=>A(!0),children:[e.jsx(se,{className:"h-5 w-5"}),e.jsx("span",{children:"新增目录"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"搜索"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md",placeholder:"目录名称或代码",value:N,onChange:s=>M(s.target.value)}),e.jsx(V,{className:"h-5 w-5 text-gray-400 absolute left-3 top-2.5"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"状态"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:h,onChange:s=>H(s.target.value),children:[e.jsx("option",{value:"all",children:"全部"}),e.jsx("option",{value:"draft",children:"草稿"}),e.jsx("option",{value:"published",children:"已发布"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-200",onClick:()=>{M(""),H("all")},children:"重置筛选"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"目录代码"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"目录名称"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"规则数量"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"分类数量"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"状态"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"价格上限"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"创建时间"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:"没有符合条件的目录数据"})}):r.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.rules.length}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.categories.length}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.status==="published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:s.status==="published"?"已发布":"草稿"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.priceLimit?`¥${s.priceLimit.toFixed(2)}`:"未设置"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.createdAt}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900",onClick:()=>{j(s),b(!0)},title:"查看详情",children:e.jsx(Z,{className:"h-5 w-5"})}),s.status==="draft"?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"text-green-600 hover:text-green-900",onClick:()=>B(s.id),title:"发布目录",children:e.jsx(ce,{className:"h-5 w-5"})}),e.jsx("button",{className:"text-gray-600 hover:text-gray-900",title:"编辑目录",children:e.jsx(te,{className:"h-5 w-5"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>O(s),title:"删除目录",children:e.jsx(oe,{className:"h-5 w-5"})})]}):e.jsx("span",{className:"text-gray-500 text-sm",children:"已发布目录不可编辑"})]})})]},s.id))})]})}),g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"新增目录"}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>A(!1),children:e.jsx(E,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg mb-4",children:"基本信息"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"目录名称"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"请输入目录名称",value:o.name,onChange:s=>R(d=>({...d,name:s.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"价格上限（元）"}),e.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"请输入价格上限",value:o.priceLimit||"",onChange:s=>R(d=>({...d,priceLimit:s.target.value?parseFloat(s.target.value):void 0})),min:"0",step:"0.01"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"设置该目录下产品的最高价格限制"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg mb-4",children:"目录规则"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md",placeholder:"请输入规则内容",value:n,onChange:s=>u(s.target.value)}),e.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-md",onClick:I,children:"添加规则"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[e.jsx("h5",{className:"font-medium mb-2",children:"已添加规则："}),o.rules.length===0?e.jsx("p",{className:"text-gray-500 text-sm",children:"暂无规则"}):e.jsx("ul",{className:"space-y-1",children:o.rules.map((s,d)=>e.jsxs("li",{className:"text-sm flex items-start",children:[e.jsx("span",{className:"text-gray-600 mr-2",children:"•"}),e.jsx("span",{children:s})]},d))})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg mb-4",children:"辅助器具分类"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"一级分类名称"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"请输入一级分类名称",value:k.name,onChange:s=>x(d=>({...d,name:s.target.value}))})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"二级分类"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md",placeholder:"请输入二级分类名称",value:c,onChange:s=>v(s.target.value)}),e.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-md",onClick:D,children:"添加二级分类"})]}),k.subcategories.length>0&&e.jsxs("div",{className:"mt-2 bg-gray-50 p-3 rounded-md",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-1",children:"当前一级分类下的二级分类："}),e.jsx("div",{className:"flex flex-wrap gap-1",children:k.subcategories.map(s=>e.jsx("span",{className:"bg-white px-2 py-1 rounded text-sm border",children:s.name},s.id))})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"bg-purple-600 text-white px-4 py-2 rounded-md",onClick:_,children:"添加一级分类"})}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[e.jsx("h5",{className:"font-medium mb-2",children:"已添加分类："}),o.categories.length===0?e.jsx("p",{className:"text-gray-500 text-sm",children:"暂无分类"}):e.jsx("div",{className:"space-y-2",children:o.categories.map((s,d)=>e.jsxs("div",{className:"bg-white p-3 rounded border",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:s.name}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>w(d),children:f[d]?e.jsx(de,{className:"h-4 w-4"}):e.jsx(ae,{className:"h-4 w-4"})})]}),f[d]&&e.jsxs("div",{className:"mt-2 pl-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"二级分类："}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.subcategories.map(t=>e.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:t.name},t.id))})]})]},d))})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-md",onClick:()=>A(!1),children:"取消"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md",onClick:Q,children:"创建目录"})]})]})]})})}),F&&m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-red-600",children:"确认删除目录"}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>L(!1),children:e.jsx(E,{className:"h-6 w-6"})})]}),e.jsxs("p",{className:"mb-4",children:["您确定要删除目录 ",e.jsxs("strong",{children:[m.name," (",m.id,")"]})," 吗？"]}),e.jsxs("p",{className:"text-red-500 mb-4 flex items-center",children:[e.jsx(le,{className:"h-5 w-5 mr-2"}),"删除后将无法恢复，请谨慎操作！"]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-md",onClick:()=>L(!1),children:"取消"}),e.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded-md",onClick:P,children:"确认删除"})]})]})})}),a&&m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"目录详情"}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>{b(!1),j(null)},children:e.jsx(E,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg mb-4",children:"基本信息"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"目录代码"}),e.jsx("p",{className:"font-medium",children:m.id})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"目录名称"}),e.jsx("p",{className:"font-medium",children:m.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"状态"}),e.jsx("p",{className:`font-medium ${m.status==="published"?"text-green-600":"text-yellow-600"}`,children:m.status==="published"?"已发布":"草稿"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"创建时间"}),e.jsx("p",{className:"font-medium",children:m.createdAt})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"规则数量"}),e.jsxs("p",{className:"font-medium",children:[m.rules.length," 条"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"分类数量"}),e.jsxs("p",{className:"font-medium",children:[m.categories.length," 个"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"价格上限"}),e.jsx("p",{className:"font-medium",children:m.priceLimit?`¥${m.priceLimit.toFixed(2)}`:"未设置"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg mb-4",children:"目录规则"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:m.rules.length===0?e.jsx("p",{className:"text-gray-500 text-sm",children:"暂无规则"}):e.jsx("ul",{className:"space-y-2",children:m.rules.map((s,d)=>e.jsxs("li",{className:"text-sm flex items-start",children:[e.jsx("span",{className:"text-gray-600 mr-2",children:"•"}),e.jsx("span",{children:s})]},d))})}),e.jsx("h4",{className:"font-semibold text-lg mb-4 mt-6",children:"辅助器具分类"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:m.categories.length===0?e.jsx("p",{className:"text-gray-500 text-sm",children:"暂无分类"}):e.jsx("div",{className:"space-y-2",children:m.categories.map((s,d)=>e.jsxs("div",{className:"bg-white p-3 rounded border",children:[e.jsx("div",{className:"font-medium text-sm",children:s.name}),s.subcategories&&s.subcategories.length>0&&e.jsxs("div",{className:"mt-1",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"二级分类："}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.subcategories.map(t=>e.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:t.name},t.id))})]})]},d))})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md",onClick:()=>{b(!1),j(null)},children:"关闭"})})]})})})]})}function Ne(){const[p,C]=i.useState(""),[g,A]=i.useState("all"),[o,R]=i.useState("all"),[N,M]=i.useState(""),[h,H]=i.useState(""),[n,u]=i.useState(null),[k,x]=i.useState(!1),[c,v]=i.useState(!1),[f,$]=i.useState("first"),[m,j]=i.useState("pass"),[F,L]=i.useState(""),[a,b]=i.useState(1),w=5,[I,D]=i.useState([{id:"P001",name:"智能防跌倒监测系统",category:"智慧监测类",price:2999,specifications:"传感器精度: ±0.1°, 电池续航: 7天, 防水等级: IP67",supplier:"科技有限公司A",status:"first_review",submittedAt:"2023-12-01",description:"基于AI技术的防跌倒监测系统，能够实时监测用户状态，预防跌倒风险。"},{id:"P002",name:"电子血压计",category:"医疗护理类",price:299,specifications:"测量范围: 0-300mmHg, 精度: ±3mmHg, 电源: 4节AA电池",supplier:"医疗器械公司B",status:"approved",submittedAt:"2023-11-28",description:"数字显示电子血压计，测量准确，操作简便，适用于家庭和医疗机构使用。",firstReviewResult:"pass",firstReviewReason:"产品符合国家标准，功能完备",firstReviewer:"张审核员",firstReviewTime:"2023-11-29",secondReviewResult:"pass",secondReviewReason:"复审通过，建议公示",secondReviewer:"李主任",secondReviewTime:"2023-11-30"},{id:"P003",name:"手动轮椅",category:"康复训练类",price:1200,specifications:"材质: 航空铝合金, 承重: 120kg, 折叠尺寸: 90x40x30cm",supplier:"康复设备公司C",status:"rejected",submittedAt:"2023-11-25",description:"适用于行动不便者使用的轻便手动轮椅，具有折叠功能，便于携带和存放。",firstReviewResult:"fail",firstReviewReason:"材质不符合国家标准要求",firstReviewer:"王审核员",firstReviewTime:"2023-11-26"},{id:"P004",name:"智能手环",category:"智慧监测类",price:899,specifications:"心率监测、睡眠分析、跌倒检测、续航7天",supplier:"智能科技公司D",status:"second_review",submittedAt:"2023-12-03",description:"多功能智能手环，专为老年人设计，具有健康监测和紧急报警功能。",firstReviewResult:"pass",firstReviewReason:"产品功能完备，符合老年人使用需求",firstReviewer:"张审核员",firstReviewTime:"2023-12-04"},{id:"P005",name:"医用血糖仪",category:"医疗护理类",price:450,specifications:"测量范围: 1.1-33.3mmol/L, 精度: ±10%, 试纸盒装",supplier:"医疗器械公司E",status:"first_review",submittedAt:"2023-11-30",description:"专业医用血糖仪，快速准确，适合糖尿病患者日常监测。"},{id:"P006",name:"电动轮椅",category:"康复训练类",price:5800,specifications:"电机功率: 250W, 电池: 24V, 最大速度: 6km/h, 续航: 25km",supplier:"康复设备公司F",status:"first_review",submittedAt:"2023-12-02",description:"高性能电动轮椅，适合行动不便的老年人，提供舒适的移动体验。"},{id:"P007",name:"老人助行器",category:"康复训练类",price:680,specifications:"材质: 铝合金, 承重: 150kg, 可折叠, 带座椅",supplier:"康复设备公司G",status:"approved",submittedAt:"2023-11-20",description:"轻便耐用的老人助行器，具有座椅功能，方便老年人休息。",firstReviewResult:"pass",firstReviewReason:"产品质量良好，安全性能达标",firstReviewer:"赵审核员",firstReviewTime:"2023-11-21",secondReviewResult:"pass",secondReviewReason:"复审确认通过",secondReviewer:"刘主任",secondReviewTime:"2023-11-22"},{id:"P008",name:"智能血压计",category:"医疗护理类",price:380,specifications:"蓝牙连接, 心率监测, 自动充气, 语音播报",supplier:"医疗器械公司H",status:"rejected",submittedAt:"2023-11-18",description:"智能语音血压计，具有数据上传功能，方便医生查看。",firstReviewResult:"fail",firstReviewReason:"测量精度不符合医疗器械标准",firstReviewer:"孙审核员",firstReviewTime:"2023-11-19"},{id:"P009",name:"防褥疮气垫床",category:"生活护理类",price:2500,specifications:"尺寸: 200x90cm, 气囊数量: 18个, 自动调节, 防水面料",supplier:"护理设备公司I",status:"first_review",submittedAt:"2023-12-04",description:"专业防褥疮气垫床，有效预防和治疗褥疮，适合长期卧床患者。"},{id:"P010",name:"康复机器人",category:"智慧监测类",price:15e3,specifications:"关节数量: 6DOF, 负载: 20kg, 精度: 0.1mm, 编程控制",supplier:"机器人科技公司J",status:"approved",submittedAt:"2023-11-15",description:"智能康复训练机器人，帮助患者进行精准的康复训练。",firstReviewResult:"pass",firstReviewReason:"技术先进，符合康复医疗需求",firstReviewer:"周审核员",firstReviewTime:"2023-11-16",secondReviewResult:"pass",secondReviewReason:"复审通过，技术领先",secondReviewer:"陈主任",secondReviewTime:"2023-11-17"}]),_=()=>I.filter(l=>{const y=p===""||l.name.toLowerCase().includes(p.toLowerCase())||l.supplier.toLowerCase().includes(p.toLowerCase())||l.id.toLowerCase().includes(p.toLowerCase()),T=g==="all"||l.category===g,X=o==="all"||l.status===o,q=(!N||l.submittedAt>=N)&&(!h||l.submittedAt<=h);return y&&T&&X&&q}),Q=l=>{switch(l){case"first_review":return"待初审";case"second_review":return"待复审";case"approved":return"已通过";case"rejected":return"已驳回";default:return l}},B=l=>{switch(l){case"first_review":return"bg-blue-100 text-blue-800";case"second_review":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},P=(l,y,T,X)=>{D(I.map(q=>{if(q.id===l){const J={...q};return y==="first"?(J.firstReviewResult=T,J.firstReviewReason=X,J.firstReviewer="当前审核员",J.firstReviewTime=new Date().toISOString().split("T")[0],T==="pass"?J.status="second_review":J.status="rejected"):y==="second"&&(J.secondReviewResult=T,J.secondReviewReason=X,J.secondReviewer="复审主任",J.secondReviewTime=new Date().toISOString().split("T")[0],T==="pass"?(J.status="approved",console.log(`产品 ${q.name} 复审通过，自动进入公示流程`)):J.status="rejected"),J}return q})),v(!1),L(""),u(null)},O=_(),r=Math.ceil(O.length/w),s=(a-1)*w,d=s+w,t=O.slice(s,d),S=l=>{l>=1&&l<=r&&b(l)};return e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsx("h2",{className:"text-2xl font-bold",children:"资质审核"})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"搜索"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md",placeholder:"产品名称、供应商或编号",value:p,onChange:l=>C(l.target.value)}),e.jsx(V,{className:"h-5 w-5 text-gray-400 absolute left-3 top-2.5"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"产品分类"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:g,onChange:l=>A(l.target.value),children:[e.jsx("option",{value:"all",children:"全部分类"}),e.jsx("option",{value:"生活护理类",children:"生活护理类"}),e.jsx("option",{value:"康复训练类",children:"康复训练类"}),e.jsx("option",{value:"医疗护理类",children:"医疗护理类"}),e.jsx("option",{value:"智慧监测类",children:"智慧监测类"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"审核状态"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:o,onChange:l=>R(l.target.value),children:[e.jsx("option",{value:"all",children:"全部状态"}),e.jsx("option",{value:"first_review",children:"待初审"}),e.jsx("option",{value:"second_review",children:"待复审"}),e.jsx("option",{value:"approved",children:"已通过"}),e.jsx("option",{value:"rejected",children:"已驳回"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"提交开始日期"}),e.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:N,onChange:l=>M(l.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"提交结束日期"}),e.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:h,onChange:l=>H(l.target.value)})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{className:"w-full bg-gray-100 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-200",onClick:()=>{C(""),A("all"),R("all"),M(""),H("")},children:"重置筛选"})})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"产品信息"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"供应商"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"价格"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"提交时间"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"状态"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500",children:"没有符合条件的审核数据"})}):t.map(l=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:l.name}),e.jsx("div",{className:"text-sm text-gray-500",children:l.category})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.supplier}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["¥",l.price.toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.submittedAt}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${B(l.status)}`,children:Q(l.status)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",onClick:()=>{u(l),x(!0)},children:e.jsx(G,{className:"h-5 w-5"})}),e.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 text-xs text-white bg-gray-800 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:"查看详情"})]}),l.status==="first_review"&&e.jsxs("div",{className:"relative group",children:[e.jsx("button",{className:"text-orange-600 hover:text-orange-900 p-1 rounded hover:bg-orange-50",onClick:()=>{u(l),$("first"),j("pass"),v(!0)},children:e.jsx(ee,{className:"h-5 w-5"})}),e.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 text-xs text-white bg-gray-800 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:"进行初审"})]}),l.status==="second_review"&&e.jsxs("div",{className:"relative group",children:[e.jsx("button",{className:"text-purple-600 hover:text-purple-900 p-1 rounded hover:bg-purple-50",onClick:()=>{u(l),$("second"),j("pass"),v(!0)},children:e.jsx(ee,{className:"h-5 w-5"})}),e.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 text-xs text-white bg-gray-800 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:"进行复审"})]}),(l.status==="approved"||l.status==="rejected")&&e.jsx("span",{className:"text-gray-400 text-xs flex items-center",children:l.status==="approved"?"已通过":"已驳回"})]})})]},l.id))})]}),O.length>w&&e.jsxs("div",{className:"px-6 py-3 flex items-center justify-between border-t",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["显示 ",s+1," 至 ",Math.min(d,O.length)," 条，共 ",O.length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>S(a-1),disabled:a===1,children:"上一页"}),[...Array(Math.min(5,r))].map((l,y)=>{let T;return r<=5||a<=3?T=y+1:a>=r-2?T=r-4+y:T=a-2+y,e.jsx("button",{className:`px-3 py-1 rounded ${a===T?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,onClick:()=>S(T),children:T},T)}),e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>S(a+1),disabled:a===r,children:"下一页"}),e.jsxs("div",{className:"flex items-center ml-4",children:[e.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"跳转到"}),e.jsx("input",{type:"number",min:1,max:r,className:"w-16 px-2 py-1 border border-gray-300 rounded text-center text-sm",value:a,onChange:l=>{const y=parseInt(l.target.value);y>=1&&y<=r&&b(y)}}),e.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"页"})]})]})]})]}),k&&n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"产品审核详情"}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>{x(!1),u(null)},children:"×"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg mb-4",children:"基本信息"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"产品名称"}),e.jsx("p",{className:"font-medium",children:n.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"产品分类"}),e.jsx("p",{className:"font-medium",children:n.category})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"供应商"}),e.jsx("p",{className:"font-medium",children:n.supplier})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"价格"}),e.jsxs("p",{className:"font-medium",children:["¥",n.price.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"提交时间"}),e.jsx("p",{className:"font-medium",children:n.submittedAt})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"审核状态"}),e.jsx("p",{className:`font-medium ${n.status==="approved"?"text-green-600":n.status==="rejected"?"text-red-600":"text-yellow-600"}`,children:Q(n.status)})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg mb-4",children:"产品规格"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:e.jsx("p",{className:"text-sm",children:n.specifications})}),e.jsx("h4",{className:"font-semibold text-lg mb-4 mt-6",children:"产品描述"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:e.jsx("p",{className:"text-sm",children:n.description})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md",onClick:()=>{x(!1),u(null)},children:"关闭"})})]})})}),c&&n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold",children:[f==="first"?"初审":"复审"," - ",n.name]}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>{v(!1),L(""),u(null)},children:"×"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"审核结果"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"reviewResult",value:"pass",checked:m==="pass",onChange:l=>j(l.target.value),className:"mr-2"}),e.jsx("span",{className:"text-green-600 font-medium",children:"通过"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"reviewResult",value:"fail",checked:m==="fail",onChange:l=>j(l.target.value),className:"mr-2"}),e.jsx("span",{className:"text-red-600 font-medium",children:"驳回"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[f==="first"?"初审":"复审","意见 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:4,placeholder:`请输入${f==="first"?"初审":"复审"}意见...`,value:F,onChange:l=>L(l.target.value),required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-md",onClick:()=>{v(!1),L(""),u(null)},children:"取消"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md",onClick:()=>P(n.id,f,m,F),disabled:!F.trim(),children:"提交审核"})]})]})})})]})}function ve(){const[p,C]=i.useState("pending"),[g,A]=i.useState(""),[o,R]=i.useState("all"),[N,M]=i.useState("all"),[h,H]=i.useState(1),n=5,[u,k]=i.useState([{id:"D001",productName:"智能防跌倒监测系统",category:"智慧监测类",price:2999,specifications:"传感器精度: ±0.1°, 电池续航: 7天, 防水等级: IP67",supplier:"科技有限公司A",status:"pending",submittedAt:"2023-12-01",description:"基于AI技术的防跌倒监测系统，能够实时监测用户状态，预防跌倒风险。"},{id:"D002",productName:"电子血压计",category:"医疗护理类",price:299,specifications:"测量范围: 0-300mmHg, 精度: ±3mmHg, 电源: 4节AA电池",supplier:"医疗器械公司B",status:"active",submittedAt:"2023-11-28",publishedAt:"2023-11-30",objectionPeriod:{start:"2023-11-30",end:"2023-12-14"},objections:[{id:"OBJ001",complainant:"张三",content:"价格过高，超出市场平均水平",createdAt:"2023-12-02"},{id:"OBJ002",complainant:"李四",content:"产品精度与宣传不符",createdAt:"2023-12-03"}],description:"数字显示电子血压计，测量准确，操作简便，适用于家庭和医疗机构使用。"},{id:"D003",productName:"手动轮椅",category:"康复训练类",price:1200,specifications:"材质: 航空铝合金, 承重: 120kg, 折叠尺寸: 90x40x30cm",supplier:"康复设备公司C",status:"completed",submittedAt:"2023-11-25",publishedAt:"2023-11-27",objectionPeriod:{start:"2023-11-27",end:"2023-12-11"},objections:[{id:"OBJ003",complainant:"王五",content:"折叠功能不稳定",createdAt:"2023-11-28"},{id:"OBJ004",complainant:"赵六",content:"材质质量有疑虑",createdAt:"2023-11-29"}],description:"适用于行动不便者使用的轻便手动轮椅，具有折叠功能，便于携带和存放。"},{id:"D004",productName:"智能手环",category:"智慧监测类",price:899,specifications:"心率监测、睡眠分析、跌倒检测、续航7天",supplier:"智能科技公司D",status:"cancelled",submittedAt:"2023-12-02",publishedAt:"2023-12-03",description:"多功能智能手环，专为老年人设计，具有健康监测和紧急报警功能。"},{id:"D005",productName:"医用血糖仪",category:"医疗护理类",price:450,specifications:"测量范围: 1.1-33.3mmol/L, 精度: ±10%, 试纸盒装",supplier:"医疗器械公司E",status:"completed",submittedAt:"2023-12-03",publishedAt:"2023-12-04",objectionPeriod:{start:"2023-12-04",end:"2023-12-18"},objections:[{id:"OBJ005",complainant:"孙七",content:"试纸过期问题",createdAt:"2023-12-05"},{id:"OBJ006",complainant:"周八",content:"测量结果不准",createdAt:"2023-12-06"},{id:"OBJ007",complainant:"吴九",content:"售后服务差",createdAt:"2023-12-07"}],description:"专业医用血糖仪，快速准确，适合糖尿病患者日常监测。"},{id:"D006",productName:"老人助行器",category:"康复训练类",price:680,specifications:"材质: 铝合金, 承重: 150kg, 可折叠, 带座椅",supplier:"康复设备公司F",status:"completed",submittedAt:"2023-12-05",publishedAt:"2023-12-06",objectionPeriod:{start:"2023-12-06",end:"2023-12-20"},objections:[{id:"OBJ008",complainant:"郑十",content:"座椅舒适度不够",createdAt:"2023-12-08"}],description:"轻便耐用的老人助行器，具有座椅功能，方便老年人休息。"},{id:"D007",productName:"智能血压计",category:"医疗护理类",price:380,specifications:"蓝牙连接, 心率监测, 自动充气, 语音播报",supplier:"医疗器械公司G",status:"completed",submittedAt:"2023-12-06",publishedAt:"2023-12-07",objectionPeriod:{start:"2023-12-07",end:"2023-12-21"},description:"智能语音血压计，具有数据上传功能，方便医生查看。"},{id:"D008",productName:"防褥疮气垫床",category:"生活护理类",price:2500,specifications:"尺寸: 200x90cm, 气囊数量: 18个, 自动调节, 防水面料",supplier:"护理设备公司H",status:"active",submittedAt:"2023-12-08",publishedAt:"2023-12-09",objectionPeriod:{start:"2023-12-09",end:"2023-12-23"},objections:[{id:"OBJ009",complainant:"钱十一",content:"气囊易漏气",createdAt:"2023-12-10"}],description:"专业防褥疮气垫床，有效预防和治疗褥疮，适合长期卧床患者。"},{id:"D009",productName:"制氧机",category:"医疗护理类",price:3200,specifications:"氧气浓度: 90%-96%, 流量: 1-5L/min, 噪音: ≤45dB",supplier:"医疗器械公司I",status:"pending",submittedAt:"2023-12-10",description:"家用医疗制氧机，适合老年人及呼吸系统疾病患者使用。"},{id:"D010",productName:"康复训练床",category:"康复训练类",price:8500,specifications:"尺寸: 220x100cm, 电动调节, 承重: 200kg, 带护栏",supplier:"康复设备公司J",status:"completed",submittedAt:"2023-11-20",publishedAt:"2023-11-22",objectionPeriod:{start:"2023-11-22",end:"2023-12-06"},description:"多功能电动康复训练床，支持多角度调节，适用于术后康复训练。"},{id:"D011",productName:"老年人GPS定位器",category:"智慧监测类",price:299,specifications:"GPS+北斗双模定位, 续航7天, 一键SOS",supplier:"智能科技公司K",status:"completed",submittedAt:"2023-11-18",publishedAt:"2023-11-20",objectionPeriod:{start:"2023-11-20",end:"2023-12-04"},objections:[{id:"OBJ010",complainant:"冯十二",content:"室内定位不准",createdAt:"2023-11-22"},{id:"OBJ011",complainant:"陈十三",content:"电池续航不达标",createdAt:"2023-11-23"}],description:"专为老年人设计的GPS定位设备，支持实时位置追踪和紧急求助。"},{id:"D012",productName:"护理床垫",category:"生活护理类",price:1200,specifications:"材质: 高密度海绵, 尺寸: 200x90x10cm, 防水透气",supplier:"护理设备公司L",status:"cancelled",submittedAt:"2023-11-15",publishedAt:"2023-11-17",description:"专业护理床垫，具有防水透气功能，适合长期卧床者使用。"}]),[x,c]=i.useState(null),[v,f]=i.useState(!1),[$,m]=i.useState(!1),[j,F]=i.useState(""),[L,a]=i.useState(!1),[b,w]=i.useState([]),I=()=>u.filter(t=>{const S=g===""||t.productName.toLowerCase().includes(g.toLowerCase())||t.supplier.toLowerCase().includes(g.toLowerCase())||t.id.toLowerCase().includes(g.toLowerCase()),l=o==="all"||t.category===o;let y=!0;return p==="pending"?y=t.status==="pending"||t.status==="active":p==="completed"&&(y=t.status==="completed"||t.status==="cancelled"),N!=="all"&&(y=y&&t.status===N),S&&l&&y}),D=()=>{x&&j.trim()&&(k(u.map(t=>t.id===x.id?{...t,status:"cancelled"}:t)),m(!1),F(""),c(null))},_=t=>{switch(t){case"pending":return"待公示";case"active":return"公示中";case"completed":return"已挂完";case"cancelled":return"已取消";default:return t}},Q=t=>{switch(t){case"pending":return"bg-gray-100 text-gray-800";case"active":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},B=I(),P=Math.ceil(B.length/n),O=(h-1)*n,r=O+n,s=B.slice(O,r),d=t=>{t>=1&&t<=P&&H(t)};return e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsx("h2",{className:"text-2xl font-bold",children:"公示公布"})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"pending",label:"未完成",count:u.filter(t=>t.status==="pending"||t.status==="active").length},{id:"completed",label:"已完成",count:u.filter(t=>t.status==="completed"||t.status==="cancelled").length}].map(t=>e.jsxs("button",{className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${p===t.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>C(t.id),children:[t.label," (",t.count,")"]},t.id))})})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"搜索"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md",placeholder:"产品名称、供应商或编号",value:g,onChange:t=>A(t.target.value)}),e.jsx(V,{className:"h-5 w-5 text-gray-400 absolute left-3 top-2.5"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"产品分类"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:o,onChange:t=>R(t.target.value),children:[e.jsx("option",{value:"all",children:"全部分类"}),e.jsx("option",{value:"生活护理类",children:"生活护理类"}),e.jsx("option",{value:"康复训练类",children:"康复训练类"}),e.jsx("option",{value:"医疗护理类",children:"医疗护理类"}),e.jsx("option",{value:"智慧监测类",children:"智慧监测类"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"公示状态"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:N,onChange:t=>M(t.target.value),children:[e.jsx("option",{value:"all",children:"全部状态"}),p==="pending"?e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"pending",children:"待公示"}),e.jsx("option",{value:"active",children:"公示中"})]}):e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"completed",children:"已挂完"}),e.jsx("option",{value:"cancelled",children:"已取消"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-200",onClick:()=>{A(""),R("all"),M("all")},children:"重置筛选"})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"产品信息"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"供应商"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"价格"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"公示状态"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"公示时间"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"异议"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:"没有符合条件的公示数据"})}):s.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.productName}),e.jsx("div",{className:"text-sm text-gray-500",children:t.category})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.supplier}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["¥",t.price.toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Q(t.status)}`,children:_(t.status)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.publishedAt||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:t.objections&&t.objections.length>0?e.jsxs("button",{className:"text-orange-600 hover:text-orange-900 underline font-medium",onClick:()=>{c(t),w(t.objections||[]),a(!0)},children:[t.objections.length," 条"]}):e.jsx("span",{className:"text-gray-400",children:"0 条"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900",onClick:()=>{c(t),f(!0)},title:"查看详情",children:e.jsx(G,{className:"h-5 w-5"})}),p==="pending"&&t.status==="active"&&e.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>{c(t),m(!0)},title:"取消公示",children:e.jsx(ie,{className:"h-5 w-5"})})]})})]},t.id))})]}),B.length>n&&e.jsxs("div",{className:"px-6 py-3 flex items-center justify-between border-t",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["显示 ",O+1," 至 ",Math.min(r,B.length)," 条，共 ",B.length," 条"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>d(h-1),disabled:h===1,children:"上一页"}),[...Array(Math.min(5,P))].map((t,S)=>{let l;return P<=5||h<=3?l=S+1:h>=P-2?l=P-4+S:l=h-2+S,e.jsx("button",{className:`px-3 py-1 rounded ${h===l?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,onClick:()=>d(l),children:l},l)}),e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>d(h+1),disabled:h===P,children:"下一页"}),e.jsxs("div",{className:"flex items-center ml-4",children:[e.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"跳转到"}),e.jsx("input",{type:"number",min:1,max:P,className:"w-16 px-2 py-1 border border-gray-300 rounded text-center text-sm",value:h,onChange:t=>{const S=parseInt(t.target.value);S>=1&&S<=P&&H(S)}}),e.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"页"})]})]})]})]}),v&&x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"公示详情"}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>{f(!1),c(null)},children:e.jsx(E,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg mb-4",children:"基本信息"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"公示编号"}),e.jsx("p",{className:"font-medium",children:x.id})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"产品名称"}),e.jsx("p",{className:"font-medium",children:x.productName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"产品分类"}),e.jsx("p",{className:"font-medium",children:x.category})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"供应商"}),e.jsx("p",{className:"font-medium",children:x.supplier})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"价格"}),e.jsxs("p",{className:"font-medium",children:["¥",x.price.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"公示状态"}),e.jsx("p",{className:`font-medium ${x.status==="completed"?"text-green-600":x.status==="cancelled"?"text-red-600":"text-blue-600"}`,children:_(x.status)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"提交时间"}),e.jsx("p",{className:"font-medium",children:x.submittedAt})]}),x.publishedAt&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"公示时间"}),e.jsx("p",{className:"font-medium",children:x.publishedAt})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg mb-4",children:"产品规格"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-md mb-4",children:e.jsx("p",{className:"text-sm",children:x.specifications})}),e.jsx("h4",{className:"font-semibold text-lg mb-4",children:"产品描述"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-md mb-4",children:e.jsx("p",{className:"text-sm",children:x.description})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md",onClick:()=>{f(!1),c(null)},children:"关闭"})})]})})}),L&&x&&b.length>0&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold",children:["异议列表 - ",x.productName]}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>{a(!1),w([])},children:e.jsx(E,{className:"h-6 w-6"})})]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["共 ",b.length," 条异议，点击可跳转到申投诉页面查看详情"]}),e.jsx("div",{className:"space-y-3",children:b.map((t,S)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>{console.log(`跳转到异议 ${t.id} 详情`),alert(`跳转到申投诉页面查看：${t.content}`)},children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["异议 ",S+1]}),e.jsx("span",{className:"text-xs text-gray-500",children:t.id})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:t.content}),e.jsx("div",{className:"flex justify-between items-center text-xs text-gray-400",children:e.jsxs("span",{children:["投诉人：",t.complainant]})})]},t.id))}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md",onClick:()=>{a(!1),w([])},children:"关闭"})})]})})}),$&&x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"取消公示"}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>{m(!1),F(""),c(null)},children:"×"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"产品信息"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[e.jsx("p",{className:"font-medium",children:x.productName}),e.jsx("p",{className:"text-sm text-gray-600",children:x.supplier})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["取消原因 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:4,placeholder:"请输入取消公示的原因...",value:j,onChange:t=>F(t.target.value),required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-md",onClick:()=>{m(!1),F(""),c(null)},children:"取消"}),e.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-md",onClick:D,disabled:!j.trim(),children:"确认取消公示"})]})]})})})]})}function fe(){const[p,C]=i.useState([{id:"FB001",title:"关于辅助器具产品质量的建议",content:"建议在产品质量验收环节增加更严格的检测标准，特别是电子类辅助器具的安全性能检测。",type:"suggestion",status:"pending",priority:"high",submitter:"张三",submitTime:"2023-12-01 10:30",contactInfo:"zhangsan@example.com",attachments:["产品质量检测报告.pdf"]},{id:"FB002",title:"辅助器具配送服务投诉",content:"最近几次配送服务存在延迟现象，希望能够改善配送效率，提升服务质量。",type:"complaint",status:"processing",priority:"medium",submitter:"李四",submitTime:"2023-11-28 14:20",contactInfo:"lisi@example.com"},{id:"FB003",title:"关于长护险政策咨询",content:"请问今年长护险辅助器具的补贴标准是否有所调整？",type:"question",status:"resolved",priority:"low",submitter:"王五",submitTime:"2023-11-25 09:15",contactInfo:"wangwu@example.com"}]),[g,A]=i.useState(""),[o,R]=i.useState("all"),[N,M]=i.useState("all"),[h,H]=i.useState("all"),[n,u]=i.useState(null),[k,x]=i.useState(!1),c=p.filter(a=>{const b=g===""||a.title.toLowerCase().includes(g.toLowerCase())||a.content.toLowerCase().includes(g.toLowerCase())||a.submitter.toLowerCase().includes(g.toLowerCase()),w=o==="all"||a.type===o,I=N==="all"||a.status===N,D=h==="all"||a.priority===h;return b&&w&&I&&D}),v=(a,b)=>{C(p.map(w=>w.id===a?{...w,status:b}:w))},f=a=>{switch(a){case"suggestion":return"建议";case"complaint":return"投诉";case"question":return"咨询";default:return a}},$=a=>{switch(a){case"suggestion":return"bg-blue-100 text-blue-800";case"complaint":return"bg-red-100 text-red-800";case"question":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},m=a=>{switch(a){case"pending":return"待处理";case"processing":return"处理中";case"resolved":return"已解决";default:return a}},j=a=>{switch(a){case"pending":return"bg-gray-100 text-gray-800";case"processing":return"bg-blue-100 text-blue-800";case"resolved":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},F=a=>{switch(a){case"low":return"低";case"medium":return"中";case"high":return"高";default:return a}},L=a=>{switch(a){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsx("h2",{className:"text-2xl font-bold",children:"需求反馈"})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"搜索"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md",placeholder:"标题、内容或提交人",value:g,onChange:a=>A(a.target.value)}),e.jsx(V,{className:"h-5 w-5 text-gray-400 absolute left-3 top-2.5"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"类型"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:o,onChange:a=>R(a.target.value),children:[e.jsx("option",{value:"all",children:"全部类型"}),e.jsx("option",{value:"suggestion",children:"建议"}),e.jsx("option",{value:"complaint",children:"投诉"}),e.jsx("option",{value:"question",children:"咨询"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"状态"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:N,onChange:a=>M(a.target.value),children:[e.jsx("option",{value:"all",children:"全部状态"}),e.jsx("option",{value:"pending",children:"待处理"}),e.jsx("option",{value:"processing",children:"处理中"}),e.jsx("option",{value:"resolved",children:"已解决"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"优先级"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:h,onChange:a=>H(a.target.value),children:[e.jsx("option",{value:"all",children:"全部优先级"}),e.jsx("option",{value:"low",children:"低"}),e.jsx("option",{value:"medium",children:"中"}),e.jsx("option",{value:"high",children:"高"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-200",onClick:()=>{A(""),R("all"),M("all"),H("all")},children:"重置筛选"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"反馈编号"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"标题"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"类型"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"优先级"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"状态"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"提交人"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"提交时间"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-gray-500",children:"没有符合条件的反馈数据"})}):c.map(a=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 max-w-xs truncate",title:a.title,children:a.title})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${$(a.type)}`,children:f(a.type)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L(a.priority)}`,children:F(a.priority)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(a.status)}`,children:m(a.status)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.submitter}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.submitTime}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900",onClick:()=>{u(a),x(!0)},title:"查看详情",children:e.jsx(G,{className:"h-5 w-5"})}),a.status!=="resolved"&&e.jsxs("select",{className:"text-sm border border-gray-300 rounded px-2 py-1",value:a.status,onChange:b=>v(a.id,b.target.value),children:[e.jsx("option",{value:"pending",children:"待处理"}),e.jsx("option",{value:"processing",children:"处理中"}),e.jsx("option",{value:"resolved",children:"已解决"})]})]})})]},a.id))})]})}),k&&n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"反馈详情"}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>{x(!1),u(null)},children:"×"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg mb-4",children:"基本信息"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"反馈编号"}),e.jsx("p",{className:"font-medium",children:n.id})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"反馈类型"}),e.jsx("p",{className:"font-medium",children:f(n.type)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"优先级"}),e.jsx("p",{className:"font-medium",children:F(n.priority)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"当前状态"}),e.jsx("p",{className:"font-medium",children:m(n.status)})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg mb-4",children:"提交信息"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"提交人"}),e.jsx("p",{className:"font-medium",children:n.submitter})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"联系方式"}),e.jsx("p",{className:"font-medium",children:n.contactInfo})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"提交时间"}),e.jsx("p",{className:"font-medium",children:n.submitTime})]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"反馈标题"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:e.jsx("p",{className:"font-medium",children:n.title})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"反馈内容"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:e.jsx("p",{className:"whitespace-pre-line",children:n.content})})]}),n.attachments&&n.attachments.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"附件"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:e.jsx("div",{className:"space-y-2",children:n.attachments.map((a,b)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-blue-600 hover:text-blue-800 cursor-pointer",children:a})]},b))})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md",onClick:()=>{x(!1),u(null)},children:"关闭"})})]})})})]})}export{je as AdminDashboard,fe as AdminFeedback,ve as AdminPublicDisclosure,be as CategoryManagement,ke as ComplaintManagement,ye as DirectoryManagement,Se as ProductManagement,Ne as QualificationReview};
